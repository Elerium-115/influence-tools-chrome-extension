:root {
    --color-bg-dark: rgba(15, 15, 15, 0.9);
    --color-influence: rgb(54, 167, 205);
    --color-influence-faded-35: rgba(54, 167, 205, 0.35);
    --color-influence-faded-25: rgba(54, 167, 205, 0.25);
    --color-influence-faded-175: rgba(54, 167, 205, 0.175);
    --color-influence-green: rgb(136, 230, 117);
    --color-warning: rgba(255, 0, 0, 0.6);
    --color-warning-faded: rgba(255, 0, 0, 0.3);
    --crewmate-color-intensity: 1;
}

@mixin copy-icon-on-hover {
    &:hover {
        color: var(--color-influence);

        &::after {
            content: '❐'; // copy-to-clipboard symbol
            left: 100%;
            margin-top: -5px;
            padding: 5px 10px 5px 0;
            position: absolute;
        }
    }
}

.e115-color-influence {
    color: var(--color-influence) !important;
}

.e115-cursor {
    cursor: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFw2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjMuNSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMTEtMjZUMTc6MjY6MDErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTExLTI2VDE4OjA5OjI4KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTExLTI2VDE4OjA5OjI4KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZWZhYmUxOS05N2MzLTQ5NzAtYTg0My0xYjk5MmZkZjZlYmQiIHhtcE1NOkRvY3VtZW50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") 5 5, auto;
}

.e115-cursor-full {
    cursor: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAQ6SURBVFiF7ZdbTFRXFIb/PXfk0oClrRZLJGn6QpPWVIPEPjU+9CZNSCovqNXS1KClqdjSmkJjL6laqbaGh1YQTECICtF6QQq2WkitFegYLioyFoSBYW7cZubM2eec1YeBijMjzCCUl67kPJyz9l772ytr/3sdRkRYSFMt6Or/AwQDyPulIyHvYvsGxpiBMab+zwEAvKDW6Qt3/mxs3FJyKmdleuYTjDHNfAEw/1PAGNPn1rbU6SKjUxSJjxHRqHvEedZqulVZuWNzMwAvzeHRCQagfrv0p+zYJxN36iOjEgCAFMUrS9zJBU/HuN1a3X3l0un6778aBCA9LEwAAAC8nLs7MXntuuOGmEdW+vtkLtpJIZd72HHe1tN9rOL9DVcBCLMFCQrAGNNur2ksjIx9dL1Gp4sPNpEUxUsgRXS5Opz9vcXFm9eVA3ARkTwXACxjf0nqU8+tOqqLWJQ0UxCZi06AyWM2S5W9p7vq2Adv/YkQayUowASEYcf55rP66JjVKpU6IoTNgBRFlLho5x739ZFBc+Xf15rqGor2DBGRNBsAllV25p24ZcvztYaIpaEATDWZi3ZZ4haX037G3G4srynIuQlA9M/KAwEAYM2m7CVrNmb/rjVEJIYLMGmkKCIpisvrHm9tqzv90YXCz9oxpWinleKmsiKre9hRq0jSeEBgImm61E4aU6l0RATuFRa3XTi1DEDc1HWnBSAiafBmWxkYAtLEGNMMdBqbuCA4Zohh9YwNN3+Xlvplf3ure/JzSAAAcPzjra3c4+4I5otPeia5+tNtX1vvdNUrsuwOGEBk4W5X68ld2QcB2ADcBmAPCwCA19Zj+pELHrO/Q2uIWLz2vV2vHN702reNpYc+cTltRplz6+Q8UfDc+mHjq/vuGq+5ANwF0E9E94nWtEX47yDGYvJ+7byu0ekDilGRZVdj6aHcy8UHryStejE2NfPdtIRnV2Rwr2CpyMksGLjRNgqgF0AfgmhDqADqbScu7Y15bEmWSqOJ9vdzwWMu2fLGm9Y7XSYAhrT8/el9bS28ubq8C0A3gF4i8gSNHaqEZ+w7vDpxRUqZblHk0/4+IuLmjr8qjmSlfwFgAEAUgHgA3ol314NUMeSOqOrDrFbuFW4E8zHGtHEJy5+H74hpca/geqdbPCwAAN5x29AJLnj6/B1EZJElcQiAHoCeiOSJYpvxPggZgIjI9MfleiJlxM8xyAVP54HXUz4HIE08IVtYTWlD0Z6hcbvtnCL7lJGIbKLgaa8pyDkAQA3AAiBANecMgIgk09XfjpBCosz5sMthbdn7UvLursaGUfiO2QAReecNAABqv8k3KYrscA87zEe3rq+Cb+c98AmNEG682XS74u2mi9uN504udfT12HBP4cLa+aSFrAP3TWIsCsDjAGQAQ0QUeA/MM4AKvtQTAPlhOuNZAcylLfi/4T/cD2771p1I8QAAAABJRU5ErkJggg==") 5 5, auto
}

.e115-hidden {
    display: none !important;
}

.e115-input {
    background: transparent;
    border: 1px solid var(--color-influence);
    color: #ccc;
    font-family: Jura, sans-serif;
    font-size: 14px;
    height: 34px;
    padding: 0 5px;
}

.e115-button {
    --corner-size: 10px;
    border: 1px solid var(--color-influence);
    clip-path: polygon(0 0, 100% 0, 100% calc(100% - var(--corner-size) + 1px), calc(100% - var(--corner-size) + 1px) 100%, 0 100%);
    color: var(--color-influence) !important;
    line-height: 35px;
    padding: 0 10px;
    position: relative;
    text-decoration: none;
    transition: all 250ms ease 0s;
    white-space: nowrap;

    &:hover:not(:disabled) {
        background-color: var(--color-influence-faded-25);
        color: white !important;
    }
    &:active:not(:disabled) {
        background-color: var(--color-influence);
    }

    &::after {
        // Based on button-corner SVG ".ktYJwN", URL via https://yoksel.github.io/url-encoder/
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg' stroke='%2336a7cd'%3E%3Cline x1='0' y1='10' x2='10' y2='0'%3E%3C/line%3E%3C/svg%3E");
        background-position: center;
        background-repeat: no-repeat;
        bottom: -1px;
        content: '';
        height: var(--corner-size);
        margin-right: 0;
        position: absolute;
        right: -1px;
        width: var(--corner-size);
    }
}

.e115-flash-copy {
    animation: flash-copy 200ms infinite;
    transition: color 200ms;

    @keyframes flash-copy { 50% { color: white; } }
}

.e115-hud-menu-list {
    max-height: 100%;
    overflow: auto;

    .e115-hud-menu-list-item {
        --line-height: 2rem;
        line-height: var(--line-height);

        .e115-category-title {
            svg {
                transition: transform 250ms ease 0s;
            }
        }

        .e115-category-items {
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            margin-left: 32px;
            margin-bottom: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 250ms ease 0s;

            .e115-category-item {
                border-bottom: 1px solid rgba(255, 255, 255, 0.05);
                color: #999;
                position: relative;

                .e115-category-item-title {
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                }

                .e115-category-item-author {
                    background: black;
                    bottom: -1px;
                    color: var(--color-influence);
                    font-size: 0.8rem;
                    padding: 0 12px;
                    position: absolute;
                    right: -50%;
                    top: -1px;
                    transition: all 250ms ease 0s;

                    &::before {
                        content: 'by ';
                    }
                }

                &:hover {
                    background-color: rgba(255, 255, 255, 0.05);

                    .e115-category-item-author {
                        right: 0;
                    }
                }
            }
        }

        &.selected {
            .e115-category-title {
                svg {
                    transform: rotate(90deg);
                }
            }

            .e115-category-items {
                border-bottom: 1px solid transparent;
                margin-bottom: 12px;
                // Compensate for border-bottom 1px for each ".e115-category-item" + 1px for ".e115-category-items"
                max-height: calc(var(--items-count) * (var(--line-height) + 1px) + 1px);
            }
        }
    }
}

.e115-window-wrapper {
    backdrop-filter: blur(2px);
    height: 100%;
    padding: 25px;
    width: 100%;
    z-index: 4;

    .e115-window {
        background-color: black;
        border: 1px solid #333;
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow: hidden;
        pointer-events: auto;

        .e115-window-header {
            padding: 15px 20px 0;
            display: flex;
            gap: 30px;
            justify-content: space-between;

            .e115-window-title {
                border-left: 3px solid rgb(54, 167, 205);
                font-size: 22px;
                font-weight: 400;
                line-height: 40px;
                margin: 0;
                padding: 0 0 0 15px;
                text-transform: uppercase;
                white-space: nowrap;
                z-index: 1;
            }

            .e115-window-buttons {
                align-items: center;
                display: flex;
                gap: 30px;

                .e115-button {
                    // Match the height of the "close" button
                    font-size: 15px;
                    line-height: calc(2em - 2px); // Compensate for 1px borders (top + bottom)
                }
            }
        }

        .e115-window-content {
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: 100%;
            margin: 25px 35px 35px 25px;

            &.e115-window-safety {
                align-items: center;
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding: 30px;

                h2 {
                    font-size: 24px;
                    font-weight: 400;
                    line-height: 60px;
                    margin: 0;
                }

                ul {
                    list-style: none;
                    margin: 0;
                    padding: 0;

                    li {
                        line-height: 20px;
                        padding: 15px 0 15px 30px;
                        position: relative;

                        &::before {
                            // Based on "svgIconShip", URL via https://yoksel.github.io/url-encoder/
                            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 221.73 94.58'%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23ccc' d='M221.73,47.3L110.78,0H0L71.49,30.77l-22.68,16.53,22.68,16.53L0,94.58H110.78l110.95-47.28Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
                            background-position: center;
                            background-repeat: no-repeat;
                            content: '';
                            height: 20px;
                            left: 0;
                            position: absolute;
                            width: 17px;
                        }
                    }
                }
            }
        }
    }
}

.e115-widgets-pinned {
    z-index: 10 !important; // higher than z-index of e.g. marketplace
}

.e115-widgets-wrapper {
    border: 1px solid var(--color-influence);
    margin-right: 15px;
    min-width: 40px;
    padding: 3px;
    position: relative;
    transition: all 300ms ease 0s;

    .e115-widgets-header {
        align-items: center;
        background: var(--color-influence-faded-175);
        color: var(--color-influence);
        display: flex;
        justify-content: space-between;
        min-height: 32px;
        padding-left: 3px;
        padding-right: 3px;
        transition: all 300ms ease 0s;

        &:hover {
            background: var(--color-influence-faded-35);
        }

        .e115-widgets-title {
            flex-grow: 1;
            font-size: 16px;
            max-width: 0px;
            overflow: hidden;
            padding-left: 0px;
            text-transform: uppercase;
            transition: all 300ms ease 0s;
            white-space: nowrap;
        }

        svg {
            fill: var(--color-influence);
            font-size: 26px;
            transition: all 300ms ease 0s;
        }
    }

    .e115-widgets-content {
        backdrop-filter: blur(4px);
        background: var(--color-bg-dark);
        border: 1px solid var(--color-influence);
        box-shadow: 0 10px 20px black;
        display: flex;
        flex-direction: column;
        left: -1px;
        max-height: 0px;
        opacity: 0;
        overflow: hidden;
        position: absolute;
        top: 100%;
        transition: all 150ms ease 0s;
        user-select: none; // do not highlight element while dragging via "initDragWidgetsContent"
        width: calc(100% + 2px);

        &.dragging {
            transition: none;
        }

        .e115-widgets-selector {
            --widgets-content-unit: 40px;
            align-items: center;
            box-shadow: 0 10px 20px black;
            display: flex;
            justify-content: space-between;

            .e115-widgets-drag {
                align-items: center;
                background: rgba(255, 255, 255, 0.15);
                cursor: move;
                display: flex;
                font-size: 20px;
                height: var(--widgets-content-unit);
                justify-content: center;
                width: var(--widgets-content-unit);

                &::before {
                    content: '✥';
                }

                &:hover {
                    background: var(--color-influence);
                    color: white;

                    &::before {
                        animation: drag-widgets-content 3000ms linear infinite;
                    }

                    @keyframes drag-widgets-content {
                        0% { margin: 0; }
                        10% { margin: 0; margin-left: -10px; }
                        20% { margin: 0; margin-bottom: -5px; }
                        30% { margin: 0; margin-top: -5px; }
                        40% { margin: 0; margin-right: -10px; }
                        50% { margin: 0; }
                    }
                }
            }

            .e115-widgets-list {
                flex-grow: 1;
                height: var(--widgets-content-unit);
                position: relative;

                ul {
                    background: var(--color-bg-dark);
                    height: var(--widgets-content-unit);
                    left: 0;
                    list-style-type: none;
                    margin: 0;
                    overflow: hidden;
                    padding: 0;
                    position: absolute;
                    right: 0;
                    top: 0;

                    &:hover {
                        box-shadow: 0 10px 20px black;
                        height: unset;

                        li.active {
                            background: var(--color-influence);
                            color: white;
                        }
                    }

                    &:not(:hover) {
                        &::after {
                            align-items: center;
                            background: rgba(255, 255, 255, 0.15);
                            bottom: 0;
                            content: "▼";
                            display: flex;
                            justify-content: center;
                            position: absolute;
                            right: 0;
                            top: 0;
                            width: var(--widgets-content-unit);
                        }

                        li:not(.active) {
                            display: none;
                        }
                    }

                    li {
                        background: rgba(255, 255, 255, 0.05);
                        line-height: var(--widgets-content-unit);
                        padding-left: 16px;
                        padding-right: 16px;

                        &:hover {
                            color: white;

                            &:not(.active) {
                                background: rgba(255, 255, 255, 0.15);
                            }
                        }
                    }
                }
            }
        }

        iframe {
            border: none;
            flex-grow: 1;
        }
    }

    &.active {
        --active-width: 375px;
        min-width: var(--active-width);

        .e115-widgets-header {
            color: white;

            .e115-widgets-title {
                max-width: var(--active-width);
                padding-left: 10px;
            }

            svg {
                fill: white;
            }
        }

        .e115-widgets-content {
            animation: expand-widgets-content 150ms linear 150ms forwards;
            overflow: auto;
        }

        @keyframes expand-widgets-content {
            0% { min-height: 0px; max-height: 0px; opacity: 0; }
            100% { min-height: 50vh; max-height: 50vh; opacity: 1; }
        }
    }
}

.e115-button-inventory {
    align-items: center;
    display: flex;
    height: 60px;
    margin-right: 8px;
    width: 60px;

    svg {
        height: 100%;
        width: 100%;
    }
}

#e115-industry-builder-button {
    margin-right: 28px;
}

[data-e115-market-value] {
    top: -57px !important;

    &::after {
        background: rgba(54, 167, 205, 0.2);
        content: attr(data-e115-market-value);
        display: inline-block;
        font-size: 90%;
        line-height: 28px;
        padding: 0 22px;
    }
}

#e115-config-panel-wrapper {
    --e115-config-padding: 12px;
    background-color: black;
    bottom: 0;
    font-size: 80%;
    left: 100px;
    padding: 0 calc(var(--e115-config-padding) * 2) var(--e115-config-padding) calc(var(--e115-config-padding) * 2);
    position: absolute;
    width: 350px;
    z-index: 9999;

    &:hover {
        #e115-config-panel {
            #e115-config-title {
                color: var(--color-influence);
            }
        }
    }

    &:not(:hover) {
        opacity: 0.5;
    }

    &:not(.active) {
        background-color: transparent;

        #e115-config-panel {
            #e115-config-options {
                display: none;
            }
        }
    }

    #e115-config-panel {
        display: flex;
        flex-direction: column;
        gap: 24px;

        #e115-config-title {
            padding-left: 12px;
        }

        #e115-config-options {
            padding-top: calc(var(--e115-config-padding) * 2);

            label {
                align-items: center;
                display: flex;
                gap: 10px;
                padding: 12px;

                &:hover {
                    background: rgba(255, 255, 255, 0.10);
                    color: white;
                }

                &.e115-config-option-secondary {
                    margin-left: 24px;

                    span {
                        opacity: 0.5;
                    }
                }
            }
        }
    }
}

// Inventory items with their wrapper NOT hovered.
// Apply only for "[data-tooltip-place='top']", to avoid matching (some) non-inventory panels.
body[data-inventory-item-names='true'] {
    #hudMenuPanel :not(:hover) > [data-tooltip-id='hudMenuTooltip'][data-tooltip-place='top'][data-tooltip-content], // items in hud-menu panel inventory
    [data-tooltip-id='selectionDialogTooltip'][data-tooltip-place='top'][data-tooltip-content]:not(:hover), // items in transfer-source inventory / process-overview inventory
    [data-tooltip-id='actionDialogTooltip'][data-tooltip-place='top'][data-tooltip-content]:not(:hover) { // items in transfer-overview inventory
        // Overlay item names
        &::after {
            background-color: rgba(0, 0, 0, 0.33);
            color: white;
            content: attr(data-tooltip-content);
            display: block;
            filter: drop-shadow(1px 1px 0 black);
            font-size: 80%;
            left: 0;
            line-height: 1em;
            max-height: calc(3em - 1px);
            overflow: hidden;
            padding: 3px;
            position: absolute;
            right: 9px;
        }
    }

    table [data-tooltip-id='selectionDialogTooltip'][data-tooltip-place='top'][data-tooltip-content]:not(:hover) { // items in process-select inventory
        &::after {
            font-size: 60%;
            text-align: left;
        }
    }
}

#timeMenu {
    align-items: center;
    display: flex;
    flex-direction: row-reverse;
    gap: 15px;
}

#e115-captain-video-wrapper {
    align-items: flex-end;
    display: flex;
    height: 100%;
    justify-content: flex-start;
    position: absolute;
    width: 100%;

    &.e115-video-icon-only {
        #e115-captain-video {
            display: none;
        }
    }

    &:not(.e115-video-icon-only) {
        #e115-video-play-icon {
            display: none;
        }
    }

    #e115-captain-video {
        background: black;
        height: 100%;
        width: 100%;
    }

    #e115-video-play-icon {
        align-items: center;
        background: var(--color-influence);
        border-radius: 50%;
        color: white;
        display: flex;
        font-size: 25px;
        height: 50px;
        justify-content: center;
        margin: 20px 10px;
        padding-left: 5px;
        width: 50px;

        &::after {
            content: '►';
        }
    }
}

#e115-crew-controller {
    @include copy-icon-on-hover;
    display: inline-block;
    padding-right: 10px;
    position: relative;

    &.is-custom {
        color: var(--color-influence-green);
    }

    &.is-address {
        color: rgba(255, 255, 255, 0.5);
    }

    &:empty {
        display: none;
    }

    &::before {
        content: 'Crew controller:';
    }
}

#e115-filter-select-process {
    border: none;
    font-size: unset;
    padding: 0 100px;

    .e115-input {
        width: 300px;
    }
}

#e115-extraction-percent-wrapper {
    margin-right: 50px;

    &::before {
        content: 'Preferred percentage';
        padding-right: 5px;
    }

    &::after {
        content: '%';
        padding-left: 5px;
    }

    input {
        text-align: right;
        width: 50px;
    }
}

.e115-crew-rationing {
    animation: flash-crew-rationing 1500ms infinite;
    filter: drop-shadow(0 0 10px var(--color-warning));

    @keyframes flash-crew-rationing {
        33% { filter: drop-shadow(0 0 20px var(--color-warning)); }
        66% { filter: drop-shadow(0 0 10px var(--color-warning)); }
    }
}

.e115-my-crew-rationing {
    animation: flash-my-crew-rationing 1500ms infinite;
    background: rgba(255, 0, 0, 0.1) !important;
    filter: drop-shadow(0 0 0 var(--color-warning));

    @keyframes flash-my-crew-rationing {
        33% { filter: drop-shadow(0 0 10px var(--color-warning)); }
        66% { filter: drop-shadow(0 0 0 var(--color-warning)); }
    }
}

[data-e115-crew-food-ratio] {
    // NOTE: "::before" reserved for "[data-e115-ship-loaded-propellant-percent]"
    &::after {
        --size-icon: 20px;
        --size-padding: 4px;
        background-color: rgba(0, 0, 0, 0.75);
        background-image: url("data:image/svg+xml;utf8,<svg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path d='M.84,9.26c0-2,4.1-3.62,9.16-3.62,.02,0,.03,0,.05,0l-1.14,1.11c-3.21,.15-5.38,.95-6.37,1.68-.4,.3-.62,.59-.62,.83,0,.86,2.85,2.54,8.08,2.54,5.23,0,8.08-1.68,8.08-2.54,0-.23-.21-.52-.62-.83-.54-.41-1.44-.83-2.68-1.15l.91-.85c2.11,.66,3.47,1.68,3.47,2.83,0,.03,0,.06-.01,.09,0,.02,.01,.04,.01,.06,0,5.06-4.1,9.16-9.16,9.16-5.06,0-9.16-4.1-9.16-9.16,0-.02,.01-.04,.01-.06,0-.03-.01-.06-.01-.09Z'></path><path d='M10.01,9.44c.14,0,.28-.05,.38-.16L17.72,1.95c.21-.21,.21-.55,0-.76s-.55-.21-.76,0l-7.33,7.33c-.21,.21-.21,.55,0,.76,.11,.11,.24,.16,.38,.16Z'></path></svg>");
        background-position: calc(100% - var(--size-padding)) calc(100% - var(--size-padding) + 2px);
        background-repeat: no-repeat;
        background-size: var(--size-icon);
        bottom: 20px;
        color: white;
        content: attr(data-e115-crew-food-ratio);
        font-size: 80%;
        padding: var(--size-padding) calc(5px + var(--size-icon) + var(--size-padding)) var(--size-padding) var(--size-padding);
        position: absolute;
        right: 8px;
    }

    &.e115-my-crew-rationing {
        &::after {
            background-color: var(--color-warning);
        }
    }
}

[data-e115-ship-loaded-propellant-percent] {
    // NOTE: "::after" reserved for "[data-e115-crew-food-ratio]"
    &::before {
        --propellant-percent: attr(data-e115-ship-loaded-propellant-percent);
        background-color: rgba(0, 0, 0, 0.75);
        bottom: 20px;
        color: white;
        content: "Ship propellant: " var(--propellant-percent);
        font-size: 80%;
        left: 8px;
        padding: 4px;
        position: absolute;
        z-index: 1;
    }
}

#e115-location-controller-wrapper {
    bottom: 340px;
    font-size: 80%;
    left: 50px;
    position: absolute;

    #e115-location-controller {
        background: var(--color-bg-dark);
        bottom: 0;
        color: white;
        display: flex;
        flex-direction: column;
        position: absolute;
        white-space: nowrap;

        .controller {
            @include copy-icon-on-hover;
            display: flex;
            gap: 10px;
            justify-content: space-between;
            padding: 5px 10px;

            &.is-custom {
                color: var(--color-influence-green);
            }

            &.is-address {
                color: rgba(255, 255, 255, 0.5);
            }

            &:hover {
                &::after {
                    background: var(--color-bg-dark);
                }
            }

            &:empty {
                display: none;
            }

            &::before {
                color: rgba(255, 255, 255, 0.5);
            }

            &.controller-building::before { content: 'Building controller:'; }
            &.controller-ship::before { content: 'Ship controller:'; }
            &.controller-lot::before { content: 'Lot controller:'; }
            &.controller-asteroid::before { content: 'Asteroid controller:'; }
        }
    }

    &:hover {
        // Show the controller panel above the actions list, in case it is partially covered
        z-index: 2000; // higher than 1000 = z-index of actions list
    }

    &.ship-view {
        z-index: 2000; // must be higher than 1000 = z-index of ship UI
    }

    &.system-view {
        // Only show asteroid controller in system-view
        .controller:not(.controller-asteroid) { display: none !important; }
    }
}

.e115-blacklisted-inventory {
    > * {
        // Use background-image, to preserve the background-color for selected rows
        background-image: linear-gradient(90deg, var(--color-warning-faded) 0%, var(--color-warning-faded) 100%) !important;
    }

    &:hover {
        > * {
            background-image: linear-gradient(90deg, var(--color-warning) 0%, var(--color-warning) 100%) !important;
            color: white;

            &:last-child {
                position: relative;

                &::after {
                    align-items: center;
                    background: black;
                    bottom: 0;
                    content: 'Blocklisted';
                    display: flex;
                    left: 0;
                    padding: 0 16px;
                    position: absolute;
                    right: 0;
                    top: 0;
                }
            }
        }
    }
}

// Volatile changes for dynamic class names

.eUlTUS > img:not(:hover) {
    // Enhance the class-specific background color for crewmates only when NOT hovering
    backdrop-filter: brightness(var(--crewmate-color-intensity));
}

#hudMenuPanel .eUlTUS > img {
    // Enhance the class-specific background color for crewmates in the hud menu, even when hovering
    backdrop-filter: brightness(var(--crewmate-color-intensity));
}

div[src*="OwnedCrew"] + div .eUlTUS > img {
    // Do NOT enhance the class-specific background color for crewmates in the "Crew Details" window.
    // This avoids some issues:
    // -- hovering over those crewmates would make them too bright
    // -- the captain-video would not be overlayed as expected
    backdrop-filter: unset;
}
